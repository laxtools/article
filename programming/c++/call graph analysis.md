# call graph analysis 

복잡한 대규모 시스템이 상태 변화에 기반할 경우 기억해야 할 세부 사항은 
코드가 전부다. 클래스로 구분한다고 하더라도 호출 의존 관계로 인해 
복잡도는 높아진다. const로 의미를 일부 부여 가능하다고 하더라도 (순서에 무관한) 
mutable 함수들은 여전히 많고 이들 간의 순서 정확성을 찾기 어렵다. 

이들 시스템의 구조를 분석하고 (설계에도 도움이 될) 사용하고 
수정하기 위해 필요한 전단계로 분석이 선행 되어야 한다. 

따라서, 큰 상태 변화에 기반한 시스템의 분석 과정을 정리한다. 

대략의 아이디어는 다음과 같다. 

 - 전체 콜 그래프의 깊이를 제한하여 큰 그림을 볼 수 있도록 한다. 
 - 개념적으로 구분 가능한 단위로 세부를 볼 수 있도록 한다. 

## 도구 

계층적으로 세부를 볼 수 있도록 하는 도구로 벡터 그래픽이 있다. 
프레지와 같은 플래시 기반의 도구가 아이디어를 제공했다. 

무료로 사용 가능한 벡터 그래픽 도구로 inkscape가 있다. 
3D 모델링 도구를 사용하거나 게임 엔진을 사용하는 방법도 있을 듯 하다. 
unreal 4의 blueprint와 같은 비주얼 프로그래밍 언어로 구현하는 방법도 가능해 보인다. 

inkscape로는 몇 번 시도를 해 보았고 3D 모델링은 너무 자유로울 듯 하여 
blueprint를 한번 살펴 본다. 

### 블루프린트 

함수 연결 구조를 보여주고 설명을 추가할 수 있어야 한다. 

- add new function 
  - input / output 추가 

- output에 연결해서 다른 함수 추가 
  - print만 쭉 찍어도 될 듯 
  - print 내용으로 설명을 추가해도 될 듯 

### inkscape 

visual studio의 콜 그래프를 이미지로 떠서 세부를 정리한다. 
여러 가지 부담을 줄일 수 있는 방법으로 보인다. 

이 과정에서 파악된 중요 흐름을 분류하여 별도로 그린다. 


### 프로그램 개발 

visual studio에서 copy & paste로 추가. 

call graph rendering / print.

C# / WPF로 개발. 

기존 도구 : 

 - plugin : YaobinOuyang.CodeAtlas
   - visual studio market place에 있음
   - 중국 개발자들이 날고 있다 


## 개념 




